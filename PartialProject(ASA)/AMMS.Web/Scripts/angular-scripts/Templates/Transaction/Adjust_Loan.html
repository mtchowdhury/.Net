<div class="panel panel-default panel-primary" ng-controller="adjustLoanController">
    <div class="panel-heading panel-title">
        Adjust Loan
    </div>
    <label style="color:blue" class="pull-right"> {{selectedMenu.DisplayName}}  . </label>
    <div class="panel-body font-asa-11">
        <form name="adjustLoanForm" class="form-horizontal">
            <div class="row">

                <div class="form-inline">
                    <label for="date">
                        Date
                    </label>
                    <!--<div class="dropdown input-group date">
                        <a class="dropdown-toggle" id="date" role="button" data-toggle="dropdown" data-target="#" href="#">
                            <div class="input-group date-input-group">
                                <input type="text"
                                       date-time-input="DD-MM-YYYY"
                                       class="form-control-asa full-width-asa"
                                       ng-model="date">
                                <span class="input-group-addon input-group-addon-asa"><i class="fa fa-calendar"></i></span>
                            </div>
                        </a>
                        <ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">
                            <datetimepicker ng-model="date" data-datetimepicker-config="{ startView:'day', minView:'day',dropdownSelector: '#date' }"/>
                        </ul>
                    </div>-->
                    <div class="dropdown input-group date ">
                        <p class="input-group">
                            <input readonly="readonly" class="form-control-asa full-width-asa" type="text"
                                   uib-datepicker-popup="{{format}}" ng-model="date" is-open="openingPop.opened"
                                   datepicker-options="dateOptions" close-text="Close" alt-input-formats="altInputFormats"
                                   ng-change="WdValidator()" />
                            <span class="input-group-addon input-group-addon-asa">
                                <button type="button" ng-click="openpop()"><i class="fa fa-calendar"></i></button>
                            </span>
                        </p>
                    </div>
                    <button class="btn btn-primary" type="button" ng-click="getMemberAccountDetails(selectedMenu.Id,date)">
                        Load
                    </button>

                    <button ng-if="user.Role!=='3'" class="btn btn-primary" type="button" ng-click="saveAccountDetails()">
                        Save
                    </button>
                </div>
                <br />


                <div class="col-lg-6 col-md-6 col-sm-12">
                    <div>
                        <h4>Loan Account</h4>
                    </div>
                    <div class="form-group">


                        <div class="form-inline">
                            <label for="loanAccount" class="col-md-4 col-sm-12">
                                Loan Account
                            </label>
                            <select class="form-control form-control-asa form-control-asa-select-box-padding width-asa col-md-8 col-sm-12"
                                    id="loanAccount"
                                    ng-change="getLoanAccountInfo();getSavingsAccountInfo();"
                                    ng-model="loanAccountId"
                                    name="loanAccount"
                                    ng-options="loanAccount.Id as loanAccount.Name for loanAccount in memberAccountDetails.LoanAccounts"></select>
                        </div>
                        <div class="form-inline">
                            <label for="disburseAmount" class="col-md-4 col-sm-12">
                                Disbursed Amount
                            </label>
                            <input type="number"
                                   onkeypress="return event.charCode >= 48" min="1" name="disburseAmount"
                                   ng-model="disburseAmount" ng-disabled="true"
                                   class="width-asa form-control form-control-asa col-md-8 col-sm-12"
                                   id="disburseAmount" validate-on="blur" placeholder="Disbursed Amount">
                        </div>
                        <div class="form-inline">
                            <label for="outStandingAmount" class="col-md-4 col-sm-12">
                                OutStanding Amount
                            </label>
                            <input type="number"
                                   onkeypress="return event.charCode >= 48" min="1" name="outStandingAmount"
                                   ng-model="loanOutstandingAmount " ng-disabled="true"
                                   filter:number
                                   class="width-asa form-control form-control-asa col-md-8 col-sm-12"
                                   id="outStandingAmount" validate-on="blur" placeholder="OutStanding Amount">
                        </div>


                    </div>
                </div>
                <div class="col-lg-6 col-md-6 col-sm-12">
                    <div>
                        <h4>Savings Account</h4>
                    </div>
                    <div class="form-group">
                        <div class="form-inline">
                            <label for="savingAccount" class="col-md-4 col-sm-12">
                                Savings Account
                            </label>
                            <select class="form-control form-control-asa form-control-asa-select-box-padding width-asa col-md-8 col-sm-12"
                                    id="savingAccount"
                                    ng-model="savingsAccountId"
                                    name="savingAccount"
                                    ng-change="getSavingsAccountInfo()"
                                    ng-options="savingAccount.Id as savingAccount.Name for savingAccount in memberAccountDetails.SavingsAccounts"></select>
                        </div>
                        <div class="form-inline">
                            <label for="tBalance" class="col-md-4 col-sm-12">
                                Total Savings Balance
                            </label>
                            <input type="number"
                                   onkeypress="return event.charCode >= 48" min="1" name="tBalance"
                                   ng-model="totalSavingBalance" ng-disabled="true"
                                   class="width-asa form-control form-control-asa col-md-8 col-sm-12"
                                   id="tBalance" placeholder="Total Balance">
                        </div>
                        <div class="form-inline">
                            <label for="aBalance" class="col-md-5 col-sm-12" style="width: 35%!important">
                                Balance(till selected date)
                            </label>
                            <input type="number"
                                   required-message="'Adjust Balnce field is required'"
                                   required onkeypress="return event.charCode >= 48" min="0" name="aBalance"
                                   ng-model="savingBalance"
                                   ng-disabled="true"
                                   style="width: 65%!important"
                                   class="form-control form-control-asa col-md-7 col-sm-12"
                                   id="aBalance" placeholder="available Balance">
                        </div>

                        <div class="form-inline">
                            <label for="adjustAmount" class="col-md-4 col-sm-12">
                                Adjust Amount
                            </label>
                            <input type="number"
                                   min="0"
                                   onkeypress="return event.charCode >= 48" min="0" name="adjustAmount"
                                   ng-model="adjustAmount"
                                   ng-change="adjustAmountchange()"
                                   class="width-asa form-control form-control-asa col-md-8 col-sm-12"
                                   id="adjustAmount" placeholder="Adjust Amount">
                        </div>


                    </div>
                </div>
            </div>

            <div ng-if="validityBool">
                <label class="alert-danger fa-align-center"> {{validationText}} </label>

            </div>
        </form>
    </div>
</div>

