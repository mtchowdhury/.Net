<div class="panel panel-default panel-primary" ng-controller="propertyAdminEditController">
    <div class="panel-heading panel-title">
        Edit Property
    </div>
    <div class="panel-body panel-body-asa font-asa-11">
        <form angular-validator-submit="editProperty()" name="propertyEditForm" class="form-horizontal" novalidate angular-validator>
            <div class="row">
                <div class="col-lg-12 col-md-12 col-sm-12">
                    <div class="form-group">
                        <div class="col-lg-6 col-md-6 col-sm-12">
                            <div class="form-inline">
                                <label for="name" class="col-md-4 col-sm-12">
                                    Name<i class="fa fa-asterisk required-icon"></i>
                                </label>
                                <input type="text" tabindex="2" name="name"
                                       ng-model="property.Name" class="width-asa form-control form-control-asa col-md-8 col-sm-12"
                                       id="name" placeholder="Name"
                                       required
                                       invalid-message="Name is Required"
                                       validate-on="dirty">
                            </div>
                        </div>
                        <div class="col-lg-6 col-md-6 col-sm-12">
                            <div class="form-inline">
                                <label for="displayname" class="col-md-4 col-sm-12">
                                    Display Name <i class="fa fa-asterisk required-icon"></i>
                                </label>
                                <input type="text" tabindex="3" name="displayname"
                                       ng-model="property.DisplayName" class="width-asa form-control form-control-asa col-md-8 col-sm-12"
                                       id="displayname" placeholder="Display Name"
                                       required
                                       invalid-message="Display Name is Required"
                                       validate-on="dirty">
                            </div>
                        </div>
                        <div class="col-lg-6 col-md-6 col-sm-12">
                            <div class="form-inline">
                                <label for="modulename" class="col-md-4 col-sm-12">
                                    Module Name <i class="fa fa-asterisk required-icon"></i>
                                </label>
                                <select tabindex="3" name="parentname"
                                        ng-model="property.ModuleId"
                                        class="width-asa form-control form-control-asa col-md-8 col-sm-12"
                                        ng-options="prop.Value as prop.Name for prop in moduleList"
                                        id="modulename" placeholder="Parent Name"
                                        required>
                                    <option value="">--Select Module--</option>
                                </select>
                            </div>
                        </div>
                        <div class="col-lg-6 col-md-6 col-sm-12">
                            <div class="form-inline">
                                <div ng-if="customFormType===0">
                                    <label for="formtype" class="col-md-4 col-sm-12">
                                        Form Type <i class="fa fa-asterisk required-icon"></i>
                                    </label>
                                    <select tabindex="3" name="formtype"
                                            ng-model="property.FormType"
                                            class="form-control form-control-asa col-md-3 col-sm-12"
                                            ng-options="formtype.Name as formtype.Name for formtype in formTypeList"
                                            id="formtype" placeholder="Form Type"
                                            required>
                                        <option value="">--Select Form Type--</option>
                                    </select>
                                </div>
                                <div ng-if="customFormType===1">
                                    <label for="customformtype" class="col-md-4 col-sm-12">
                                       Custom Form Type <i class="fa fa-asterisk required-icon"></i>
                                    </label>
                                    <input type="text" tabindex="3" name="customformtype"
                                           ng-model="property.FormType" class="form-control form-control-asa col-md-3 col-sm-12"
                                           id="customformtype" placeholder="Form Type Name"
                                           required
                                           required-message="Form Type is Required"
                                           validate-on="dirty">
                                </div>
                                <label class="col-md-4 col-sm-12" for="customtype">Is Custom? <input id="customtype" type="checkbox" ng-model="customFormType" tabindex="4" ng-true-value="1" ng-false-value="0" ng-change="clearFormType()" ng-init="customFormType=0"></label>
                                
                            </div>
                        </div>
                        <div class="col-lg-6 col-md-6 col-sm-12">
                            <div class="form-inline">
                                <label class="col-md-4 col-sm-12">
                                    Assigned Roles
                                </label>
                                <div class="multiselect-parent-asa" ng-dropdown-multiselect="" extra-settings="dropdownSetting"
                                     options="roleList" selected-model="selectedRoles" events="roleDdlEvents" checkboxes="true"></div>
                            </div>
                        </div>
                        <div class="col-lg-6 col-md-6 col-sm-12">
                            <div class="form-inline">
                                <label class="col-md-4 col-sm-12">
                                    Commands
                                </label>
                                <div class="multiselect-parent-asa" ng-dropdown-multiselect="" extra-settings="dropdownSetting"
                                     options="commandList" selected-model="selectedCommands" events="commandsDdlEvents" checkboxes="true"></div>
                            </div>
                        </div>
                        <div class="col-lg-6 col-md-6 col-sm-12">
                            <div class="form-inline">
                                <label for="iconclass" class="col-md-4 col-sm-12">
                                    Icon Class<i class="fa fa-asterisk required-icon"></i>
                                </label>
                                <input type="text" tabindex="3" name="iconclass"
                                       ng-model="property.IconClass" class="width-asa form-control form-control-asa col-md-8 col-sm-12"
                                       id="iconclass" placeholder="Icon Class"
                                       required
                                       invalid-message="Icon Class is Required"
                                       validate-on="dirty">
                            </div>
                        </div>
                        <div class="col-lg-6 col-md-6 col-sm-12">
                            <div class="form-inline">
                                <label for="tooltip" class="col-md-4 col-sm-12">
                                    Tooltip <i class="fa fa-asterisk required-icon"></i>
                                </label>
                                <input type="text" tabindex="3" name="tooltip"
                                       ng-model="property.ToolTip" class="width-asa form-control form-control-asa col-md-8 col-sm-12"
                                       id="tooltip" placeholder="Tooltip"
                                       required
                                       invalid-message="Tooltip required"
                                       validate-on="dirty">
                            </div>
                        </div>
                        <div class="col-lg-6 col-md-6 col-sm-12">
                            <div class="form-inline">
                                <label for="sortorder" class="col-md-4 col-sm-12">
                                    Sort Order <i class="fa fa-asterisk required-icon"></i>
                                </label>
                                <input type="number" tabindex="3" name="sortorder"
                                       ng-model="property.SortOrder" class="width-asa form-control form-control-asa col-md-8 col-sm-12"
                                       id="sortorder" placeholder="Sort Order"
                                       required
                                       invalid-message="Sort Order required"
                                       validate-on="dirty">
                            </div>
                        </div>
                        <div class="col-lg-6 col-md-6 col-sm-12">
                            <div class="form-inline" style="margin-top: 10px;">
                                <label for="confirmprompt" class="col-md-4 col-sm-12">
                                    Confirm Prompt?
                                </label>
                                <input id="confirmprompt" type="checkbox" ng-model="property.ConfirmPrompt" tabindex="4" ng-init="property.ConfirmPrompt=0">
                            </div>
                        </div>
                        <hr/>
                        <div class="col-lg-10 col-md-10 col-sm-12" ng-if="selectedCommands.length > 0 && selectedRoles.length >0">
                            <div class="form-inline table-scroll-product">
                                <table class="td-loan">
                                    <thead>
                                        <tr>
                                            <th>Role</th>
                                            <th ng-repeat="command in commandList | filter: filterCommand()">
                                                {{command.Name}}
                                            </th>
                                            <th>All</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr ng-repeat="role in checkedRoles">
                                            <td>{{role.name}}</td>
                                            <td ng-repeat="command in commandList | filter: filterCommand()">
                                                <input type="checkbox" ng-model="selectedCommandList[$parent.$index].Commands[$index].Checked" ng-true-value="true" ng-false-value="false"
                                                       ng-change="uncheckSingleCommand(selectedCommandList[$parent.$index].Commands[$index].Checked,$parent.$index,$index);"/>
                                            </td>
                                            <td>
                                                <input type="checkbox" ng-model="commandallchecked[$index]" ng-true-value="true" ng-false-value="false" ng-change="checkAllCommands(role.id,commandallchecked[$index])" />
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        <div ng-if="propertyEditForm.$dirty === 1 && propertyEditForm.$valid === 0">
                            <p class="form-validation-message">Validation failed, on or more required field is missing</p>
                        </div>
                        <button style="margin-top: 10px;" type="submit" tabindex="100" class="btn btn-primary pull-right">
                            Submit
                        </button>
                    </div>
                </div>
            </div>
        </form>
    </div>
</div>