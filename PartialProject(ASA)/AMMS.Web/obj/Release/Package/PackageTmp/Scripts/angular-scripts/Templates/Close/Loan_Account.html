<div class="panel panel-default panel-primary" ng-controller="loanaccountEditController">
    <div class="panel-heading panel-title">
        Edit Loan Account
    </div>
    <div class="panel-body font-asa-11">
        <form angular-validator-submit="EditLoanAccount()" name="loanaccountEditForm" class="form-horizontal" novalidate angular-validator>
            <div class="row">
                <div class="col-lg-6 col-md-6 col-sm-12">
                    <button ng-click="initHabibi()">Refresh Page</button>
                    <div class="form-group">
                        <div class="col-sm-12 col-md-12 col-lg-12">
                            <label for="group" class="col-md-4 col-sm-12">
                                Group
                            </label>
                            <input type="text" name="group"
                                   ng-model="group" class="width-asa form-control form-control-asa col-md-8 col-sm-12"
                                   id="group" validate-on="blur" readonly="readonly">
                        </div>
                    <div class="col-sm-12 col-md-12 col-lg-12">
                        <label for="member" class="col-md-4 col-sm-12">
                            Member
                        </label>
                        <input type="text" tabindex="0" name="member"
                               ng-model="member" class="width-asa form-control form-control-asa col-md-8 col-sm-12"
                               id="member" validate-on="blur" readonly="readonly">
                    </div>
                        
                        <div class="col-sm-12 col-md-12 col-lg-12">
                            <label for="disbursedate" class="col-md-4 col-sm-12">
                                Disburse date<i class="fa fa-asterisk required-icon"></i>
                            </label>
                            <!--<div tabindex="1" class="dropdown input-group date width-asa">
                                <a class="dropdown-toggle" id="disbursedate" role="button" data-toggle="dropdown" data-target="#" href="#">
                                    <div class="input-group date-input-group">
                                        <input type="text" readonly="readonly" is-open="false"
                                               date-time-input="DD-MM-YYYY" class="form-control-asa full-width-asa"
                                               name="disbursedate" ng-model="loan.DisburseDate">
                                        <span class="input-group-addon input-group-addon-asa"><i class="fa fa-calendar"></i></span>
                                    </div>
                                </a>
                                <ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">
                                    <datetimepicker ng-model="loan.DisburseDate" ng-change="checkHoliday()" data-datetimepicker-config="{ startView:'day', minView:'day',dropdownSelector: '#disbursedate' }"
                                                    data-before-render="beforeStartDateRender($dates)"/>
                                </ul>
                            </div>-->
                            <fieldset ng-disabled="true">
                                <div class="dropdown input-group date width-asa">
                                    <p class="input-group">
                                        <input readonly="readonly" class="form-control-asa full-width-asa" type="text" uib-datepicker-popup="{{format}}"
                                               ng-model="loan.DisburseDate" is-open="popupEntryDate.opened" datepicker-options="dateOptions" close-text="Close"
                                               alt-input-formats="altInputFormats" ng-model-options='{ debounce: 1000 }'
                                               ng-change="checkHoliday();getSchedule();" />
                                        <span class="input-group-addon input-group-addon-asa">
                                            <button type="button" ng-click="openEntryDate()"><i class="fa fa-calendar"></i></button>
                                        </span>
                                    </p>
                                </div>
                            </fieldset>
                        </div>
                        <!--<div class="form-inline">
                            <label for="disbursedate" class="col-md-4 col-sm-12">
                                Disburse date<i class="fa fa-asterisk required-icon"></i>
                            </label>
                            <div tabindex="3" class="dropdown input-group date width-asa">
                                <a class="dropdown-toggle" id="disbursedate" role="button" data-toggle="dropdown" data-target="#" href="#">
                                    <div class="input-group date-input-group">
                                        <input type="text" date-time-input="DD-MM-YYYY" class="form-control-asa full-width-asa" data-ng-model="loan.DisburseDate">
                                        <span class="input-group-addon input-group-addon-asa"><i class="fa fa-calendar"></i></span>
                                    </div>
                                </a>
                                <ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">
                                    <datetimepicker data-ng-model="loan.disbursedate" data-datetimepicker-config="{ startView:'day', minView:'day' }"/>
                                </ul>
                            </div>
                        </div>-->
                        <div class="col-sm-12 col-md-12 col-lg-12">
                            <label for="category" class="col-md-4 col-sm-12">
                                Category<i class="fa fa-asterisk required-icon"></i>
                            </label>
                            <select tabindex="2"
                                    class="form-control form-control-asa form-control-asa-select-box-padding width-asa col-md-8 col-sm-12"
                                    id="category"
                                    ng-model="loan.CategoryId"
                                    ng-disabled="true"
                                    name="Category"
                                    required-message="'Category field is required'"
                                    ng-change="getProductsByCategory(loan.CategoryId); getFiltersByProduct(loan.ProductId);toggleDurationChange();"
                                    ng-model-options='{ debounce: 500 }'
                                    ng-options="Category.Value as Category.Name for Category in categoryList" required></select>
                        </div>
                        <div class="col-sm-12 col-md-12 col-lg-12">
                            <label for="Product" class="col-md-4 col-sm-12">
                                Product<i class="fa fa-asterisk required-icon"></i>
                            </label>
                            <select tabindex="3"
                                    class="form-control form-control-asa form-control-asa-select-box-padding width-asa col-md-8 col-sm-12"
                                    id="Product"
                                    ng-model="loan.ProductId"
                                    ng-disabled="true"
                                    name="Product"
                                    required-message="'Product field is required'"
                                    ng-change="getFiltersByProduct(loan.ProductId);toggleProductChange(); getFees();"
                                    ng-options="Product.Value as Product.Name disable when Product.DisabledState for Product in ProductList" required></select>
                        </div>
                        <div class="col-sm-12 col-md-12 col-lg-12">
                            <label for="subcode" class="col-md-4 col-sm-12">
                                Sub-Code<i class="fa fa-asterisk required-icon"></i>
                            </label>
                            <select tabindex="4"
                                    class="form-control form-control-asa form-control-asa-select-box-padding width-asa col-md-8 col-sm-12"
                                    id="subcode"
                                    ng-model="loan.SubCodeId"
                                    ng-disabled="true"
                                    name="subcode"
                                    ng-change="changeGRT()"
                                    required-message="'subcode field is required'"
                                    ng-options="subcode.Value as subcode.Name for subcode in subcodeList" required></select>
                        </div>
                        <div class="col-sm-12 col-md-12 col-lg-12">
                            <label for="fund" class="col-md-4 col-sm-12">
                                Fund<i class="fa fa-asterisk required-icon"></i>
                            </label>
                            <select tabindex="5"
                                    class="form-control form-control-asa form-control-asa-select-box-padding width-asa col-md-8 col-sm-12"
                                    id="fund"
                                    ng-model="loan.FundId"
                                    ng-disabled="true"
                                    name="fund"
                                    ng-change="changeGRT()"
                                    required-message="'fund field is required'"
                                    ng-options="fund.Value as fund.Name for fund in fundList" required></select>
                        </div>
                        <div class="col-sm-12 col-md-12 col-lg-12">
                            <label for="scheme" class="col-md-4 col-sm-12">
                                Scheme<i class="fa fa-asterisk required-icon"></i>
                            </label>
                            <select tabindex="12"
                                    class="form-control form-control-asa form-control-asa-select-box-padding width-asa col-md-8 col-sm-12"
                                    id="scheme" ng-model="loan.SchemeId"
                                    ng-disabled="true"
                                    name="scheme"
                                    ng-change="changeGRT(); schemeChange()"
                                    required-message="'Scheme field is required'"
                                    ng-options="scheme.Value as scheme.Name for scheme in schemeList" required></select>
                        </div>
                        <div class="col-sm-12 col-md-12 col-lg-12">
                            <label for="duration" class="col-md-4 col-sm-12">
                                Duration<i class="fa fa-asterisk required-icon"></i>
                            </label>
                            <select tabindex="6"
                                    class="form-control form-control-asa form-control-asa-select-box-padding width-asa col-md-8 col-sm-12"
                                    id="duration"
                                    ng-model="loan.Duration"
                                    ng-disabled="true"
                                    ng-change="changeGRT();"
                                    name="duration"
                                    required-message="'Duration field is required'"
                                    ng-model-options='{ debounce: 1500 }'
                                    ng-options="duration.Value as duration.Name for duration in durationList" required></select>
                        </div>
                        <div class="col-sm-12 col-md-12 col-lg-12">
                            <label for="installmentType" class="col-md-4 col-sm-12">
                                Installment Type<i class="fa fa-asterisk required-icon"></i>
                            </label>
                            <select tabindex="7"
                                    class="form-control form-control-asa form-control-asa-select-box-padding width-asa col-md-8 col-sm-12"
                                    id="installmentType"
                                    ng-model="loan.InstallmentFrequencyId"
                                    ng-disabled="true"
                                    name="installmentType"
                                    ng-change="toggleFrqChange(); changeGRT();freqChange(); changeIsSync()"
                                    required-message="'Installment Type field is required'"
                                    ng-options="installmentFrequency.Value as installmentFrequency.Name for installmentFrequency in installmentFrequencyList" required></select>
                        </div>
                        <div class="col-sm-12 col-md-12 col-lg-12">
                            <label for="graceperiod" class="col-md-4 col-sm-12">
                                Grace Period<i class="fa fa-asterisk required-icon"></i>
                            </label>
                            <select tabindex="8"
                                    class="form-control form-control-asa form-control-asa-select-box-padding width-asa col-md-8 col-sm-12"
                                    id="graceperiod"
                                    ng-change="graceChange();changeGRT()"
                                    ng-model="loan.GracePeriod"
                                    ng-disabled="true"
                                    name="graceperiod"
                                    required-message="'graceperiod field is required'"
                                    ng-options="graceperiod.Value as graceperiod.Name for graceperiod in graceperiodList" required></select>
                        </div>
                        <div class="col-sm-12 col-md-12 col-lg-12">
                            <label for="sex" class="col-md-4 col-sm-12">
                                Sex
                            </label>
                            <input type="text" name="sex"
                                   ng-model="loan.Sex" class="width-asa form-control form-control-asa col-md-8 col-sm-12"
                                   id="sex" readonly="readonly" ng-disabled="true">
                            <!--<select tabindex="9"
                                        class="form-control form-control-asa form-control-asa-select-box-padding width-asa col-md-8 col-sm-12"
                                        id="sex" ng-model="loan.Sex"
                                        name="sex"
                                        disabled="disabled"
                                        ng-options="sex.value as sex.text for sex in sexList"></select>-->
                        </div>
                        <div class="col-sm-12 col-md-12 col-lg-12">
                            <label for="firstinstallmentdate" class="col-md-4 col-sm-12">
                                First Installment date
                            </label>
                            <input type="text" name="group"
                                   ng-model="loan.FirstInstallmentDay" class="width-asa form-control form-control-asa col-md-8 col-sm-12"
                                   id="firstinstallmentdate" readonly="readonly">
                        </div>
                        <div class="col-sm-12 col-md-12 col-lg-12" ng-show="showSupplimentaryCheckbox">
                            <label for="IsSupplimentary" class="col-md-4 col-sm-12">
                                Supplementary <i class="fa fa-asterisk required-icon"></i>
                            </label>
                            <!--<input ng-if="!IsSupplimentary" tabindex="11" type="checkbox" ng-model="loan.IsSupplimentary" id="IsSupplimentary"
                                       ng-true-value="true" ng-false-value="false" disabled="disabled">
                            <input ng-if="IsSupplimentary" tabindex="11" type="checkbox" ng-model="loan.IsSupplimentary" id="isSupplimentary"
                                   ng-true-value="true" ng-false-value="false">-->
                            <input tabindex="11" type="checkbox" ng-model="loan.IsSupplimentary" id="IsSupplimentary"
                                   ng-true-value="true" ng-false-value="false" ng-disabled="true" ng-change="checkSupplimentaryToPrimaryConvertionAbility()">
                        </div>
                        <div class="col-sm-12 col-md-12 col-lg-12">
                            <label for="cycle" class="col-md-4 col-sm-12">
                                Cycle<i class="fa fa-asterisk required-icon"></i>
                            </label>
                            <input type="text" name="cycle"
                                   ng-model="loan.LoanCycle"
                                   class="width-asa form-control form-control-asa col-md-8 col-sm-12"
                                   id="cycle"
                                   readonly="readonly">
                        </div>

                        <div class="col-sm-12 col-md-12 col-lg-12">
                            <label for="principalamount" class="col-md-4 col-sm-12">
                                Principal Amount <i class="fa fa-asterisk required-icon"></i>
                            </label>
                            <input tabindex="13" type="number" name="principalamount"
                                   ng-model="loan.PrincipalAmount"
                                   ng-disabled="true"
                                   ng-model-options='{ debounce: 1500 }'
                                   ng-change="getSchedule();operationOnFees();"
                                   class="width-asa form-control form-control-asa col-md-8 col-sm-12"
                                   id="principalamount"
                                   placeholder="principal amount"
                                   validator="PrincipalAmountValidator(loan.PrincipalAmount) === true"
                                   invalid-message="PrincipalAmountValidator(loan.PrincipalAmount)"
                                   validate-on="dirty"
                                   required-message="'Principal Alamount field is required'" required>
                        </div>
                        <div class="col-sm-12 col-md-12 col-lg-12">
                            <label for="servicechargerate" class="col-md-4 col-sm-12">
                                Service Charge Rate
                            </label>
                            <select tabindex="20"
                                    class="form-control form-control-asa form-control-asa-select-box-padding width-asa col-md-8 col-sm-12"
                                    id="servicechargerate"
                                    ng-model="servicechargerate"
                                    ng-disabled="true"
                                    name="paymentmethod"
                                    required-message="'ServiceCharge field is required'"
                                    ng-options="ServiceCharge.Value as ServiceCharge.Name for ServiceCharge in ServiceChargeList" required></select>
                            <!--<input type="text" tabindex="23" name="servicechargerate"
                                       ng-model="servicechargerate" class="width-asa form-control form-control-asa col-md-8 col-sm-12"
                                       id="servicechargerate" readonly="readonly">-->
                        </div>
                        <div class="col-sm-12 col-md-12 col-lg-12">
                            <label for="numberOfInstallments" class="col-md-4 col-sm-12">
                                Number Of Installments
                            </label>
                            <input type="text" name="numberOfInstallments"
                                   ng-model="loan.NumberOfInstallment" class="width-asa form-control form-control-asa col-md-8 col-sm-12"
                                   id="numberOfInstallments" validate-on="blur" readonly="readonly">
                        </div>
                        <div class="col-sm-12 col-md-12 col-lg-12">
                            <label for="servicecharge" class="col-md-4 col-sm-12">
                                Service Charge
                            </label>
                            <input type="text" name="servicecharge"
                                   ng-model="loan.FinanceData.ServiceCharge" class="width-asa form-control form-control-asa col-md-8 col-sm-12"
                                   id="servicecharge" validate-on="blur" readonly="readonly">
                        </div>
                        <div class="col-sm-12 col-md-12 col-lg-12">
                            <label for="totaldisburse" class="col-md-4 col-sm-12">
                                Total Disburse Amount
                            </label>
                            <input type="text" name="totaldisburse"
                                   ng-model="loan.DisburseAmount" class="width-asa form-control form-control-asa col-md-8 col-sm-12"
                                   id="totaldisburse" readonly="readonly">
                        </div>
                        <div ng-if="isAccountReceived == true" class="col-sm-12 col-md-12 col-lg-12">
                            <label for="totaldisburse" class="col-md-4 col-sm-12">
                                Receive Date
                            </label>
                            <input type="text" name="totaldisburse"
                                   ng-model="ReceiveDate" class="width-asa form-control form-control-asa col-md-8 col-sm-12"
                                   id="receivedate" readonly="readonly">
                        </div>
                        <div ng-if="isAccountReceived == true" class="col-sm-12 col-md-12 col-lg-12">
                            <label for="totaldisburse" class="col-md-4 col-sm-12">
                                Receive Amount
                            </label>
                            <input type="text" name="totaldisburse"
                                   ng-model="ReceiveAmount" class="width-asa form-control form-control-asa col-md-8 col-sm-12"
                                   id="receiveamount" readonly="readonly">
                        </div>
                        <div class="col-sm-12 col-md-12 col-lg-12">
                            <label for="status" class="col-md-4 col-sm-12">
                                Status<i class="fa fa-asterisk required-icon"></i>
                            </label>
                            <select tabindex="14"
                                    class="form-control form-control-asa form-control-asa-select-box-padding width-asa col-md-8 col-sm-12"
                                    id="status" ng-model="loan.Status"
                                    name="status"
                                    required-message="'Status field is required'"
                                    ng-change="ChangeStatus()"
                                    ng-options="status.Value as status.Name for status in statusList" required></select>
                        </div>
                        <div class="col-sm-12 col-md-12 col-lg-12">
                            <label for="flag" class="col-md-4 col-sm-12">
                                Reason<i class="fa fa-asterisk required-icon"></i>
                            </label>
                            <select tabindex="15"
                                    class="form-control form-control-asa form-control-asa-select-box-padding width-asa col-md-8 col-sm-12"
                                    id="flag" ng-model="loan.Flag"
                                    ng-change="changeAppliedfor()"
                                    name="flag"
                                    required-message="'flag field is required'"
                                    ng-options="flag.Value as flag.Name for flag in flagList" required></select>
                        </div>
                        <div class="col-sm-12 col-md-12 col-lg-12" ng-show="loan.Status==LoanAccountStatus.Close && (loan.Flag==LoanConfig.LoanFlag.DeathResolve  || loan.Flag==LoanConfig.LoanFlag.DisabilityResolve) ">
                            <label for="disablefor" class="col-md-4 col-sm-12">
                                Apply For<i class="fa fa-asterisk required-icon"></i>
                            </label>
                            <select tabindex="15"
                                    class="form-control form-control-asa form-control-asa-select-box-padding width-asa col-md-8 col-sm-12"
                                    id="disablefor" ng-model="loan.DisabilityFor"
                                    name="disablefor"
                                    required-message="'Field is required'"
                                    ng-options="disabilityFor.Value as disabilityFor.Name for disabilityFor in disabilityForList"
                                    ng-required="loan.Status==LoanAccountStatus.Close && (loan.Flag==LoanConfig.LoanFlag.DeathResolve  || loan.Flag==LoanConfig.LoanFlag.DisabilityResolve) "></select>
                        </div>
                        <div class="col-sm-12 col-md-12 col-lg-12" ng-hide="loan.Status==LoanAccountStatus.Active">
                            <label for="closedate" class="col-md-4 col-sm-12">
                                Closing date<i class="fa fa-asterisk required-icon"></i>
                            </label>
                            <div class="dropdown input-group date width-asa">
                                <p class="input-group">
                                    <input readonly="readonly" id="closedate" class="form-control-asa full-width-asa" type="text" uib-datepicker-popup="{{format}}"
                                           ng-model="loan.ClosingDate" is-open="popupClosingDate.opened" datepicker-options="dateOptionsClosingDate" close-text="Close"
                                           alt-input-formats="altInputFormats" ng-model-options='{ debounce: 1000 }' ng-change="closingDateChanged();" />
                                    <span class="input-group-addon input-group-addon-asa">
                                        <button type="button" ng-click="openClosingDate()"><i class="fa fa-calendar"></i></button>
                                    </span>
                                </p>
                            </div>
                        </div>
                        <div class="col-sm-12 col-md-12 col-lg-12" ng-show="loan.Status==LoanConfig.LoanAccountStatus.Close && loan.Flag==LoanConfig.LoanFlag.DeathResolve && loan.DisabilityFor==LoanConfig.ResolveFor.Member">
                            <label for="resolveddate" class="col-md-4 col-sm-12">
                                Date Died<i class="fa fa-asterisk required-icon"></i>
                            </label>
                            <div class="dropdown input-group date width-asa">
                                <p class="input-group">
                                    <input readonly="readonly" id="resolveddate" class="form-control-asa full-width-asa" type="text" uib-datepicker-popup="{{format}}"
                                           ng-model="loan.ResolvedDate" is-open="popupResolvedDate.opened" datepicker-options="dateOptionResolvedDate" close-text="Close"
                                           alt-input-formats="altInputFormats" />
                                    <span class="input-group-addon input-group-addon-asa">
                                        <button type="button" ng-click="openResolvedDate()"><i class="fa fa-calendar"></i></button>
                                    </span>
                                </p>
                            </div>
                        </div>
                        <div class="col-sm-12 col-md-12 col-lg-12">
                            <label for="paymentmethod" class="col-md-4 col-sm-12">
                                Payment Method<i class="fa fa-asterisk required-icon"></i>
                            </label>
                            <select tabindex="16"
                                    class="form-control form-control-asa form-control-asa-select-box-padding width-asa col-md-8 col-sm-12"
                                    id="paymentmethod"
                                    ng-model="loan.PaymentMethodId"
                                    ng-disabled="true"
                                    name="paymentmethod"
                                    required-message="'paymentmethod field is required'"
                                    ng-options="paymentmethod.Value as paymentmethod.Name for paymentmethod in paymentmethodList" required></select>
                        </div>
                        <div ng-if="loan.PaymentMethodId == '2'">
                            <div class="col-sm-12 col-md-12 col-lg-12">
                                <label for="bankaccount" class="col-md-4 col-sm-12">
                                    Bank Account
                                </label>
                                <select tabindex="17"
                                        class="form-control form-control-asa form-control-asa-select-box-padding width-asa col-md-8 col-sm-12"
                                        id="bankaccount"
                                        ng-model="loan.BankAccountId"
                                        name="bankaccount"
                                        validator="BankAccountValidator(loan.BankAccountId) === true"
                                        invalid-message="BankAccountValidator(loan.BankAccountId)"
                                        validate-on="dirty"
                                        ng-options="bankaccount.Value as bankaccount.Name for bankaccount in bankaccountList"></select>
                            </div>
                            <div class="col-sm-12 col-md-12 col-lg-12">
                                <label for="chequeno" class="col-md-4 col-sm-12">
                                    Cheque No
                                </label>
                                <input type="text" tabindex="18" name="chequeno"
                                       ng-model="loan.ChequeNo"
                                       class="width-asa form-control form-control-asa col-md-8 col-sm-12"
                                       id="chequeno"
                                       validator="ChequeValidator(loan.ChequeNo) === true"
                                       invalid-message="ChequeValidator(loan.ChequeNo)"
                                       validate-on="dirty"
                                       placeholder="Cheque No">
                            </div>
                            <div class="col-sm-12 col-md-12 col-lg-12">
                                <label for="IsAccountpayable" class="col-md-4 col-sm-12">
                                    A/C payable Cheque
                                </label><input tabindex="19" type="checkbox" ng-model="loan.IsAccountPayable" id="IsAccountpayable"
                                               ng-true-value="true" ng-false-value="false">
                            </div>
                        </div>
                        <div class="col-sm-12 col-md-12 col-lg-12">
                            <label for="IsSyncWithMeetingDay" class="col-md-4 col-sm-12">
                                Sync With Meeting day
                            </label><input tabindex="20" type="checkbox" ng-model="loan.IsSyncWithMeetingDay" id="IsSyncWithMeetingDay"
                                           ng-model-options='{ debounce: 1500 }'
                                           ng-disabled="IsSyncDisabled"
                                           ng-true-value="true" ng-false-value="false">
                        </div>
                        <div class="col-sm-12 col-md-12 col-lg-12">
                            <label for="notes" class="col-md-4 col-sm-12">
                                Notes
                            </label>
                            <textarea tabindex="21" ng-model="loan.Notes"
                                      class="form-control form-control-asa col-md-8 width-asa col-sm-12"
                                      id="notes" placeholder="Notes"
                                      ng-disabled="true"
                                      name="notes"></textarea>
                        </div>
                    <div class="col-sm-12 col-md-12 col-lg-12">
                        <label for="masterroll" class="col-md-4 col-sm-12">
                            Master Roll No
                        </label>
                        <input type="text" tabindex="22" name="masterroll"
                               ng-model="loan.MasterRollSerialNo" class="width-asa form-control form-control-asa col-md-8 col-sm-12"
                               id="masterroll" validate-on="blur" placeholder="Master Roll Scroll No" ng-disabled="true">
                    </div>
                        
                            <div ng-if="loan.AccountFeeInfo.length > 0" class="col-sm-12 col-md-12 col-lg-12">
                                <label class="col-md-2 col-lg-2 col-sm-12">
                                    Fee
                                </label>
                                <div class="col-md-10 col-lg-10 col-sm-12">
                                    <table id="feeTableEdit">
                                        <tr>
                                            <th>
                                                Name
                                            </th>
                                            <th>
                                                Policy
                                            </th>
                                            <th>
                                                Amount
                                            </th>
                                            <th>
                                                Exempt
                                            </th>
                                        </tr>
                                        <tr ng-repeat="fee in loan.AccountFeeInfo">
                                            <td class="feeTable">{{fee.Name}}</td>
                                            <td class="feeTable" ng-hide="fee.Amount<0">
                                                <div ng-if="loan.CategoryId!=LoanConfig.LoanProductCategory.MSME">
                                                    <select ng-if="fee.ChargeType == FeeConfig.CalculationMethod.Fixed.value" ng-change="policyChange(fee)" ng-model="fee.SelectedPolicy" ng-options="policy.value as policy.text for policy in feePolicy | filter:policyFilter()" ng-disabled="true"></select>
                                                </div>
                                            </td>
                                            <td class="feeTable" ng-hide="fee.Amount<0">
                                                {{fee.Amount}}
                                            </td>
                                            <td class="feeTable" ng-hide="fee.Amount<0">
                                                <label>
                                                    <input type="checkbox" ng-model="fee.Exempt" ng-disabled="true"> <!--fee.ChargeType==FeeConfig.CalculationMethod.LateFee.value || fee.ChargeType==FeeConfig.CalculationMethod.PeriodicFee.value-->
                                                </label>
                                            </td>
                                        </tr>
                                    </table>
                                </div>
                            </div>
                        
                        <div class="form-inline" ng-click="otherInfo = ! otherInfo">
                            <label id="otherInfoAccount" style="color: blue">
                                Other Informations <i class="fa fa-plus"></i>
                            </label>
                        </div>
                        <div ng-model="otherInfo" ng-if="otherInfo==true">
                            <div class="form-inline">
                                <label for="grantor" class="col-md-4 col-sm-12">
                                    Loan Grantor
                                </label>
                                <input type="text" tabindex="21" name="grantor"
                                       ng-model="loan.LoanGrantor" class="width-asa form-control form-control-asa col-md-8 col-sm-12"
                                       id="grantor" validate-on="blur" placeholder="Grantor" ng-disabled="true">
                            </div>
                            <div class="form-inline">
                                <label for="approvedby" class="col-md-4 col-sm-12">
                                    Approved By
                                </label>
                                <input type="text" tabindex="21" name="approvedby"
                                       ng-model="loan.ApprovedBy" class="width-asa form-control form-control-asa col-md-8 col-sm-12"
                                       id="approvedby" validate-on="blur" placeholder="Approved By" ng-disabled="true">
                            </div>
                            <div class="form-inline">
                                <label for="witness" class="col-md-4 col-sm-12">
                                    Witness
                                </label>
                                <input type="text" tabindex="21" name="witness"
                                       ng-model="loan.LoanWitness" class="width-asa form-control form-control-asa col-md-8 col-sm-12"
                                       id="witness" validate-on="blur" placeholder="witness" ng-disabled="true">
                            </div>
                        </div>
                        <div style="padding: 25px" class="col-md-12 col-lg-12 col-sm-12">
                            <div class="form-group" ng-hide="hasFiles">
                                <label for="newDocs" class="h4 h4-asa">Documents Upload</label>
                                <input ng-change="docSizeBoolChecker()" type="file" id="newDocs" class="uploadFile" accept=".jpg,.jpeg,.pdf" ngf-select ngf-keep="true" ng-model="files" ngf-multiple="true" ng-disabled="true">
                                <label style="padding-top: 5px; color: blue;">Please select Document or Image type files (Max File Size 3MB) </label>
                                <label ng-show="docError" style="padding-top: 5px; color: red;">Total File Size Exceeded! (Max File Size 3MB. Selected Total File Size {{ (fileSize/(1024*1024)) |number:2 }}MB!)</label>

                            </div>
                            <div class="form-group ">
                                <table style="text-align: center">
                                    <thead>
                                        <tr>
                                            <td> Name</td>
                                            <td> Size (Byte)</td>
                                            <td> Action</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr ng-repeat="ufile in uploadedFiles">
                                            <td>
                                                <a ng-href="{{commonDownloadUrl + ufile.DocumentUrl}}">{{ufile.Name}}{{ufile.Format}}</a>
                                            </td>
                                            <td>
                                                {{ufile.Size}}
                                            </td>
                                            <td>
                                                <i class="fa fa-times asa-icon-DELETE" ng-click="removefileDB(ufile)"></i>
                                            </td>
                                        </tr>
                                        <tr ng-repeat="file in files">
                                            <td>
                                                {{file.name}}
                                            </td>
                                            <td>
                                                {{file.size }}
                                            </td>
                                            <td>
                                                <i class="fa fa-times asa-icon-DELETE" ng-click="removefile(file,files,'name')"></i>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-6 col-md-6 col-sm-12" style="overflow-x: scroll">
                    <div class="row">
                        <button type="button" ng-click="getSchedule()" style="float: right; background-color: #104E8B; color: white; margin-bottom: -15px;">Load Schedule</button>
                    </div>
                    <table style="width: 100%; display: block;" datatable="ng" dt-options="dtOptions" dt-column-defs="dtColumnDefs"
                           data-page-length='20' id="table-loan-schedule-add" class="table table-striped table-hover table-asa table-loan-schedule">
                        <thead>
                            <tr>
                                <th style="display: none"> Installment Date</th>
                                <th>#</th>
                                <th>
                                    Installment
                                    <p style="color: #aed3f0; display: inline;">_</p>Date
                                </th>

                                <th>Installment (Principal)</th>
                                <th>Installment (Service Charge)</th>
                                <th>Installment (Total)</th>
                                <th>Paid (Principal)</th>
                                <th>Paid (Service Charge)</th>
                                <th>Paid (Total)</th>
                                <th>Advance Amount</th>
                                <th>Outstanding (Principal)</th>
                                <th>Outstanding (Service Charge)</th>
                                <th>Outstanding (Total)</th>
                                <th>Overdue (Principal)</th>
                                <th>Overdue (Service Charge)</th>
                                <th>Overdue (Total)</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="schedule in scheduleList">
                                <td style="display: none"><span>{{schedule.InstallmentDate}}</span></td>
                                <td>{{schedule.InstallmentNo}}</td>
                                <td>{{schedule.InstallmentDay}}</td>
                                <td>{{schedule.PrincipalAmount}}</td>
                                <td>{{schedule.InterestAmount}}</td>
                                <td>{{schedule.TotalAmount}}</td>
                                <td>{{schedule.PaidPrincipalAmount}}</td>
                                <td>{{schedule.PaidInterestAmount}}</td>
                                <td>{{schedule.PaidTotalAmount}}</td>
                                <td>{{schedule.AdvanceAmount}}</td>
                                <td>{{schedule.OutstandingPrincipalAmount}}</td>
                                <td>{{schedule.OutstandingInterestAmount}}</td>
                                <td>{{schedule.OutstandingTotalAmount}}</td>
                                <td>{{schedule.OverduePrincipalAmount}}</td>
                                <td>{{schedule.OverdueInterestAmount}}</td>
                                <td>{{schedule.OverdueTotalAmount}}</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <div ng-if="loanaccountEditForm.$valid === false && loanaccountEditForm.$dirty === true">
                <p class="form-validation-message">Validation failed, on or more required field is missing</p>
            </div>
            <button type="submit" tabindex="100" class="btn btn-primary">
                Submit
            </button>
        </form>
    </div>
</div>
