<div class="panel panel-default panel-primary" ng-controller="memberGroupTypeChangeController">
    <div class="panel-heading panel-title">
        Change Program Group Type
    </div>
    <div class="panel-body font-asa-11">
        <form angular-validator-submit="changeGroupType()" name="changeGroupTypeForm" class="form-horizontal" novalidate angular-validator>
            <div class="row">
                <div class="col-lg-8 col-md-8 col-sm-12 col-lg-offset-2 col-md-offset-2">
                    <div class="col-lg-8 col-md-8 col-sm-12 col-lg-offset-2 col-md-offset-2">
                        <!--<label style="text-align: left" for="MoveDate" class="col-lg-4 col-md-4 col-sm-12">
                            Move Date <i class="fa fa-asterisk required-icon"></i>
                        </label>

                        <div tabindex="1" class="dropdown input-group date width-asa">
                            <a class="dropdown-toggle" id="MoveDate" role="button" data-toggle="dropdown" data-target="#" href="#">
                                <div class="input-group date-input-group">
                                    <input type="text" date-time-input="DD-MM-YYYY" class="form-control-asa full-width-asa" name="MoveDate" ng-model="member.MoveDate" readonly="readonly">
                                    <span class="input-group-addon input-group-addon-asa"><i class="fa fa-calendar"></i></span>
                                </div>
                            </a>
                            <ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">
                                <datetimepicker ng-model="member.MoveDate" data-datetimepicker-config="{ startView:'day', minView:'day',dropdownSelector: '#MoveDate' }"
                                                data-before-render="beforeStartDateRender($dates)" />
                            </ul>
                        </div>-->

                        <!--<div class="input-group date width-asa">
                            <input type="text" readonly="readonly" date-time-input="DD-MM-YYYY" class="form-control-asa full-width-asa" data-ng-model="member.MoveDate"
                                   is-open="false"
                                   required
                                   required-message="'Field is required'">
                        </div>-->

                        <div class="form-inline">
                            <label class="col-md-4 col-sm-12">
                                Move Date<i class="fa fa-asterisk required-icon"></i>
                            </label>
                            <div class="dropdown input-group date width-asa">
                                <p class="input-group">
                                    <input ng-change="validator()"
                                           readonly="readonly" class="form-control-asa full-width-asa" type="text" uib-datepicker-popup="{{format}}"
                                           ng-model="member.MoveDate" is-open="popup1.opened" datepicker-options="dateOptions" required required-message="'move date is required'" close-text="Close"
                                           alt-input-formats="altInputFormats" />
                                    <span class="input-group-addon input-group-addon-asa">
                                        <button type="button" ng-click="open1()"><i class="fa fa-calendar"></i></button>
                                    </span>
                                </p>
                            </div>
                        </div>
                    </div>

                </div>
            </div>

            <div class="row">
                <div class="col-lg-8 col-md-8 col-sm-12 col-lg-offset-2 col-md-offset-2">
                    <div class="col-lg-8 col-md-8 col-sm-12 col-lg-offset-2 col-md-offset-2">
                        <label style="text-align: left" class="col-lg-4 col-md-4 col-sm-12">
                            Current Group Type <i class="fa fa-asterisk required-icon"></i>
                        </label>
                        <div class="input-group date width-asa">
                            <input ng-if="groupDetails.GroupTypeId == 1" readonly="readonly" value="General">
                            <input ng-if="groupDetails.GroupTypeId == 2" readonly="readonly" value="Special">
                        </div>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-lg-8 col-md-8 col-sm-12 col-lg-offset-2 col-md-offset-2">
                    <div class="col-lg-8 col-md-8 col-sm-12 col-lg-offset-2 col-md-offset-2">
                        <label style="text-align: left" class="col-lg-4 col-md-4 col-sm-12">
                            Current Group Name <i class="fa fa-asterisk required-icon"></i>
                        </label>
                        <div class="input-group date width-asa">
                            <input readonly="readonly" value={{groupDetails.Name}}>

                        </div>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-lg-8 col-md-8 col-sm-12 col-lg-offset-2 col-md-offset-2">
                    <div class="col-lg-8 col-md-8 col-sm-12 col-lg-offset-2 col-md-offset-2">
                        <label style="text-align: left" class="col-lg-4 col-md-4 col-sm-12">
                            Current Loan Program Name <i class="fa fa-asterisk required-icon"></i>
                        </label>
                        <div class="input-group date width-asa">
                            <input readonly="readonly" value={{PrimaryAccountName}}>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-8 col-md-8 col-sm-12 col-lg-offset-2 col-md-offset-2">

                    <div class="col-lg-8 col-md-8 col-sm-12 col-lg-offset-2 col-md-offset-2">
                        <label style="text-align: left" class="col-lg-4 col-md-4 col-sm-12">
                            New Group Type <i class="fa fa-asterisk required-icon"></i>
                        </label>
                        <div class="input-group date width-asa">
                            <select ng-options="ngt.value as ngt.text for ngt in NewGroupTypeDropdownList" ng-model="newGroupTypeId" ng-change="getGroups()"></select>
                        </div>
                    </div>

                </div>

            </div>
            <div class="row">

                <div class="col-lg-8 col-md-8 col-sm-12 col-lg-offset-2 col-md-offset-2">

                    <div class="col-lg-8 col-md-8 col-sm-12 col-lg-offset-2 col-md-offset-2">
                        <label style="text-align: left" class="col-lg-4 col-md-4 col-sm-12">
                            New Group Name <i class="fa fa-asterisk required-icon"></i>
                        </label>
                        <div class="input-group date width-asa">
                            <select ng-options="ng.Id as ng.Name for ng in targetGroupList" ng-model="newGroupId"></select>
                        </div>
                    </div>

                </div>
            </div>
            <div class="col-lg-12 col-md-12 col-sm-12">
                <h5>Loan Account Information</h5>
                <table style="width: 98%"
                       class="table table-striped table-bordered table-hover table-asa">
                    <thead>
                        <tr>
                            <th>[S#] </th>
                            <th>Program Name </th>
                            <th>Disburse Date </th>
                            <th>Disburse Amount </th>
                            <th>Outstanding Amount </th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="loanAccount in loanAccounts | orderBy: 'OpeningDate'">
                            <td>{{loanAccount.$id}}</td>
                            <td>{{loanAccount.ProductName}}</td>
                            <td>{{loanAccount.OpeningDate}}</td>
                            <td>{{loanAccount.DisbursedAmount}}</td>
                            <td>{{loanAccount.RemainingTotal}}</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div class="col-lg-12 col-md-12 col-sm-12">
                <h5>Savings Account Information</h5>
                <table style="width: 98%"
                       class="table table-striped table-bordered table-hover table-asa">
                    <thead>
                        <tr>
                            <th>[S#] </th>
                            <th>Program Name </th>
                            <th>Balance Amount </th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="savingsAccount in SavingsAccounts | orderBy: 'OpeningDate'">
                            <td>{{savingsAccount.$id}}</td>
                            <td>{{savingsAccount.ProductName}}</td>
                            <td>{{savingsAccount.SavingBalance}}</td>

                        </tr>
                    </tbody>
                </table>
            </div>




            <div ng-if="changeGroupTypeForm.$valid === false && changeGroupTypeForm.$dirty === true">
                <p class="form-validation-message">Validation failed, on or more required field is missing</p>
            </div>
            <button ng-disabled="submitButtonEnable == false" type="submit" tabindex="100" class="btn btn-primary">
                Submit
            </button>
            <span ng-if="submitButtonEnable == false">Member has active primary loan with outstanding amount. Change GroupType is not permitted.</span>
        </form>
    </div>
</div>
