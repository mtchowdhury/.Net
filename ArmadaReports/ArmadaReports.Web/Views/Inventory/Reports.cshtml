@using CanvasJSChartPanel

@{
    ViewBag.Title = "Inventory Reports";
}

<link href="~/Content/inventory.reports.css" rel="stylesheet" />

<script type="text/javascript" src="~/Scripts/Charts/pharmacy.inventory.report.js"></script>
<script type="text/javascript" src="~/Scripts/Charts/wholesaler.inventory.report.js"></script>
<script type="text/javascript" src="~/Scripts/Charts/expiration.inventory.report.js"></script>


@Html.ChartPanelScripts()
<input id="base-url" type="hidden" value="@ViewBag.BaseUrl" />

<div class="row row-margin">
    <div class="col-lg-12 col-md-12 col-sm-12 non-pad-col">
        <div class="panel panel-primary">
            <div class="panel-heading">
                <h4 class="panel-title">Pharmacy Inventory Report</h4>
            </div>
            <div class="panel-body panel-body-height-lg custom-table @((int)ViewBag.InventoryColumnsCount == 3 ? "w6" : "" )">
                <div>
                    <div>

                        @Html.TablePanel(new TablePanelSettings()
                   {
                       Id = "pharmacyInventoryReport",
                       Title = "Pharmacy Inventory Report",
                       WrapToPanel = false,
                       IsListOfDictionarySource = true,
                       DataSourceUrl = ViewBag.BaseUrl + "/Inventory/GetPharmacyInventoryReport",
                       Filters = new List<CanvasJSChartPanel.Filter>()
                                       {
                                           new CanvasJSChartPanel.Filter()
                                           {
                                               Type = "radio",
                                               Name = "inventoryType",
                                               Values = new List<string>() { "Traditional", "Consignment" }
                                           }
                                       },
                       Columns = (List<TableDataColumn>)ViewBag.PharmacyInventoryColumns
                   })
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="col-lg-12 col-md-12 col-sm-12 non-pad-col">
        <div class="panel panel-primary">
            <div class="panel-heading">
                <h4 class="panel-title">Wholesaler Inventory Report</h4>
            </div>
            <div class="panel-body panel-body-height-lg custom-table @((int)ViewBag.InventoryColumnsCount == 3 ? "w6" : "" )">
                <div>
                    <div>
                        @Html.TablePanel(new TablePanelSettings()
                   {
                       Id = "wholesalerInventoryReport",
                       Title = "Wholesaler Inventory Report",
                       WrapToPanel = false,
                       IsListOfDictionarySource = true,
                       DataSourceUrl = ViewBag.BaseUrl + "/Inventory/GetWholesalerInventoryReport",
                       Columns = (List<TableDataColumn>)ViewBag.WholesalerInventoryColumns
                   })
                    </div>

                </div>
            </div>
        </div>
    </div>
    <div class="col-lg-12 col-md-12 col-sm-12 non-pad-col">
        <div class="panel panel-primary">
            <div class="panel-heading">
                <h4 class="panel-title">Expiration Report</h4>
            </div>
            <div class="panel-body panel-body-height-lg">
                <div>
                    <div>
                        @Html.TablePanel(new TablePanelSettings()
                   {
                       Id = "expirationReport",
                       Title = "Expiration Report",
                       WrapToPanel = false,
                       IsListOfDictionarySource = true,
                       DataSourceUrl = ViewBag.BaseUrl + "/Inventory/GetExpirationReport",
                       Filters = new List<CanvasJSChartPanel.Filter>()
                            {
                                new CanvasJSChartPanel.Filter() { Label = "Inventory Type", Name = "expirationInventoryType", Values = (List<string>)ViewBag.InventoryTypes, Type = "radio" },
                                new CanvasJSChartPanel.Filter() { Label = "Pharmacy Name", Name = "expirationPharmacyName", Values = (List<string>)ViewBag.PharmacyNames, Type = "dropdown" }
                            },
                       Columns = new List<TableDataColumn>()
                            {
                                new TableDataColumn()
                                {
                                    Title = "Expiration Date"
                                },
                                new TableDataColumn()
                                {
                                    Title = "Auvi-Q Inj 0.15mg (Cartons)"
                                },
                                new TableDataColumn()
                                {
                                    Title = "Auvi-Q Inj 0.1mg (Cartons)",
                                },
                                new TableDataColumn()
                                {
                                    Title = "Auvi-Q Inj 0.3mg (Cartons)",
                                },
                                new TableDataColumn()
                                {
                                    Title = "Total",
                                }
                            }
                   })
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script>
    service.getExportUrl('nav-home', '/Home/Index');
    pharmacyInventoryReport.init(@ViewBag.InventoryColumnsCount);
    wholesalerInventoryReport.init();
    expirationInventoryReport.init();
</script>
